(function(t){function e(e){for(var n,l,i=e[0],c=e[1],r=e[2],d=0,m=[];d<i.length;d++)l=i[d],Object.prototype.hasOwnProperty.call(a,l)&&a[l]&&m.push(a[l][0]),a[l]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(m.length)m.shift()();return s.push.apply(s,r||[]),o()}function o(){for(var t,e=0;e<s.length;e++){for(var o=s[e],n=!0,i=1;i<o.length;i++){var c=o[i];0!==a[c]&&(n=!1)}n&&(s.splice(e--,1),t=l(l.s=o[0]))}return t}var n={},a={app:0},s=[];function l(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,l),o.l=!0,o.exports}l.m=t,l.c=n,l.d=function(t,e,o){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(l.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)l.d(o,n,function(e){return t[e]}.bind(null,n));return o},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var r=0;r<i.length;r++)e(i[r]);var u=c;s.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"01c1":function(t,e,o){},"0776":function(t,e,o){t.exports=o.p+"img/icon-left-font.6c2f9ecb.png"},"0b94":function(t,e,o){"use strict";o("c379")},"1a4b":function(t,e,o){},"25b8":function(t,e,o){"use strict";o("01c1")},"3f13":function(t,e,o){},"3f75":function(t,e,o){t.exports=o.p+"img/edit-regular.7b0dc7ee.svg"},"44d2c":function(t,e,o){t.exports=o.p+"img/user-friends-solid.f4ed6310.png"},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("header",[n("router-link",{attrs:{to:"/"}},[n("img",{attrs:{src:o("0776"),alt:"logo",title:"GroupomaniaLogo"}})]),0==t.auth?n("span",[n("ul",[n("li",[n("router-link",{attrs:{to:"/"}},[t._v("S'inscrire")])],1),n("li",[n("router-link",{attrs:{to:"/Login"}},[t._v("Se connecter")])],1)])]):t._e(),1==t.auth?n("span",[n("ul",[n("li",{on:{click:t.deleteAccount}},[t._v("Se désinscrire")]),n("li",{on:{click:t.deconnected}},[t._v("Se déconnecter")])])]):t._e()],1),n("div",{staticClass:"blocInfo"},[n("div",{attrs:{id:"informationsUser"}},[0==t.auth?n("ul",{staticClass:"params",staticStyle:{display:"none"}}):t._e(),1==t.auth?n("ul",{staticClass:"params"},[n("li",[n("div",{staticClass:"myAccount"},[n("img",{attrs:{src:o("843d"),alt:"icone",title:"icone"}}),n("router-link",{attrs:{to:"/Account"}},[t._v("Account")])],1)]),n("li",[n("div",{staticClass:"msg"},[n("img",{attrs:{src:o("8a45"),alt:"icone",title:"icone"}}),n("router-link",{attrs:{to:"Forum"}},[t._v("Forum")])],1)]),n("li",[n("div",{staticClass:"groups"},[n("img",{attrs:{src:o("44d2c"),alt:"icone",title:"icone"}}),n("router-link",{attrs:{to:"/Utilisateurs"}},[t._v("Utilisateurs")])],1)])]):t._e()]),n("router-view")],1)])},s=[],l=(o("ac1f"),o("5319"),o("bc3a")),i=o.n(l),c={name:"Home",data:function(){return{localStorage:localStorage.getItem("token"),auth:Boolean,info:[],loadForum:!1,userAuth:!0}},methods:{deleteAccount:function(){var t=JSON.parse(localStorage.getItem("token")),e="bearer "+t.token;console.log(e);var o=localStorage.clear();console.log(o),i.a.delete("http://localhost:3030/api/user/deleteAccount",{headers:{Authorization:e}}).then((function(t){localStorage.clear(),console.log(t),alert("votre compte a été supprimé"),console.log("l'utilisateur est désinscrit")})).catch((function(t){console.log(t)}))},deconnected:function(t){console.log("tentative déconnection"),t.preventDefault(),console.log(this.localStorage),localStorage.clear(),window.location.replace("Login#/Login")},dothis:function(){this.loadForum=!0,i.a.get("http://localhost:3030/api/post").then((function(t){window.location.replace("Login#/Forum"),console.log(t)}))}},created:function(){this.auth=!1,console.log(localStorage.getItem("token")),null===localStorage.getItem("token")&&(this.auth=!1,this.$router.push("Login")),null!=localStorage.getItem("token")&&(this.auth=!0)}},r=c,u=(o("5c0b"),o("2877")),d=Object(u["a"])(r,a,s,!1,null,null,null),m=d.exports,p=o("8c4f"),h=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("HomeLink")},g=[],f=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"mobile"},[t._m(0),o("form",[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"lastName"}},[t._v("Lastname")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.lastName,expression:"lastName"}],attrs:{type:"text",name:"lastName",id:"lastName",required:""},domProps:{value:t.lastName},on:{input:function(e){e.target.composing||(t.lastName=e.target.value)}}})]),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"name"}},[t._v("Name")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",name:"name",id:"name",required:""},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"userName"}},[t._v("User Name")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.userName,expression:"userName"}],attrs:{type:"text",name:"userName",id:"userName",required:""},domProps:{value:t.userName},on:{input:function(e){e.target.composing||(t.userName=e.target.value)}}})]),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"email"}},[t._v("E-mail")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"email",name:"email",id:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"password"}},[t._v("Password")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",name:"password",id:"password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),o("input",{staticClass:"submit",attrs:{type:"submit"},on:{click:t.submit}})])])},v=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"banniere"}},[o("h1",[t._v("Nous rejoindre")]),o("div",{staticClass:"triangle"})])}],y=(o("d3b7"),o("3ca3"),o("ddb0"),o("2b3d"),o("b0c0"),{name:"HomeLink",data:function(){return{name:"",userName:"",lastName:"",email:"",password:"",donnees:{checkedNames:[],adminChoice:""}}},methods:{submit:function(t){t.preventDefault();var e=new URLSearchParams,o=/^[a-zA-Z '.-]*$/;o.test(this.name)&&""!=this.name?e.append("name",this.name):(console.log("error name"),document.getElementById("name").style.border="1.5px solid red"),o.test(this.userName)&&""!=this.userName?e.append("userName",this.userName):(console.log("error userName"),document.getElementById("userName").style.border="1.5px solid red"),o.test(this.lastName)&&""!=this.lastName?e.append("lastName",this.lastName):(console.log("error lastName"),document.getElementById("lastName").style.border="1.5px solid red");var n=/^(?=.*[A-Za-z])|[^0-9]*|[[A-Za-z\d]{8,}$/;n.test(this.password)&&""!=this.password?e.append("password",this.password):(console.log("error password"),document.getElementById("password").style.border="1.5px solid red");var a=/^[a-zA-Z0-9.!#$%&'*+=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)+/;a.test(this.email)&&""!=this.email?e.append("email",this.email):(console.log("error email"),document.getElementById("email").style.border="1.5px solid red"),console.log(e),a.test(this.email)&&""!=this.email.value&&n.test(this.password)&&""!=this.password.value&&o.test(this.name)&&""!=this.name.value&&o.test(this.userName)&&""!=this.userName.value&&o.test(this.lastName)&&""!=this.lastName.value&&i.a.post("http://localhost:3030/api/user/signup",e).then((function(t){console.log(t.data),console.log(t.status),console.log(t.statusText),console.log(t.headers),console.log(t.config)})).then((function(){window.location.replace("/Forum")})).catch((function(t){this.output=t}))}}}),b=y,w=(o("6d8b"),Object(u["a"])(b,f,v,!1,null,null,null)),_=w.exports,C={name:"Home",components:{HomeLink:_}},I=C,N=Object(u["a"])(I,h,g,!1,null,null,null),S=N.exports,P=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"forum"},[o("HomeLink"),o("Forum")],1)},k=[],x=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"blocCentral"}},[o("div",{staticClass:"blocPost"},[o("form",{staticStyle:{margin:"0",width:"100%"},attrs:{enctype:"multipart/form-data"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],attrs:{type:"text",placeholder:"What's on your mind?"},domProps:{value:t.message},on:{input:function(e){e.target.composing||(t.message=e.target.value)}}}),o("div",{staticClass:"bloc"},[o("div",{staticClass:"iconePicture"}),o("input",{attrs:{id:"picture",accept:"image/*",type:"file"}}),o("button",{attrs:{type:"button"},on:{click:t.addPost}},[t._v("Poster")])])])]),o("div",{staticClass:"posts"},[o("div",{attrs:{id:"post"}},[o("div",{attrs:{id:"blocPost"}},t._l(this.test,(function(e){return o("div",{key:e,staticClass:"ssBloc"},[o("div",[o("div",{attrs:{id:"info"}}),o("form",{attrs:{id:"form"}},[o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.comment,expression:"comment"}],attrs:{rows:"12",cols:"12"},domProps:{value:t.comment},on:{input:function(e){e.target.composing||(t.comment=e.target.value)}}}),o("button",{attrs:{type:"button"},on:{click:function(e){return t.publish()}}},[t._v("Envoyer")])])]),o("div",{staticClass:"user"},[o("p",{staticClass:"date"},[t._v(t._s(e.date))]),t._l(t.arrayPostDetails,(function(n){return o("div",{key:n},[n.id===e.userId?o("p",[t._v(t._s(n.userName))]):t._e()])}))],2),o("div",{staticClass:"details"},[o("div",{staticClass:"placement"},[o("div",[o("p",[t._v(t._s(e.message))]),o("img",{staticClass:"img",attrs:{src:e.media}})]),o("form",{attrs:{id:"hidden",enctype:"multipart/form-data"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.newMessage,expression:"newMessage"}],attrs:{type:"text",placeholder:"What's on your mind?"},domProps:{value:t.newMessage},on:{input:function(e){e.target.composing||(t.newMessage=e.target.value)}}}),o("div",{staticClass:"iconePicture"}),o("input",{attrs:{id:"newPicture",accept:"image/*",type:"file"}}),o("button",{attrs:{type:"button"},on:{click:function(e){return t.modifyPost(t.newResult)}}},[t._v("Poster")])]),1===t.status||t.userId===e.userId?o("div",{staticClass:"choice"},[!1===t.isModifyPost?o("div",{staticClass:"effectIcones"},[o("div",{staticClass:"modify",on:{click:function(o){return t.modifPostActu(e.id)}}})]):t._e(),!1===t.isModifyPost?o("div",{staticClass:"effectIcones"},[o("div",{staticClass:"delete",on:{click:function(o){return t.deletePost(e)}}})]):t._e()]):t._e()])]),!1===t.isModifyPost?o("button",{on:{click:function(o){return t.addComment(e)}}},[t._v(" Ajouter un commentaire ")]):t._e(),!0===t.isModifyPost||!0===t.isModifyComment?o("button",{attrs:{disabled:""},on:{click:function(o){return t.addComment(e)}}},[t._v(" Ajouter un commentaire ")]):t._e(),t._l(t.commentsShow,(function(n){return o("div",{key:n},[n.postId===e.id?o("div",{staticClass:"coms"},[o("div",{staticStyle:{display:"flex","flex-direction":"column","align-items":"center"}},[t._l(t.arrayPostDetails,(function(e){return o("div",{key:e},[e.id===n.userId?o("p",[t._v(t._s(e.userName))]):t._e()])})),o("p",[t._v(t._s(n.date))]),o("p",[t._v(t._s(n.message))]),1===t.status||t.userId===n.userId?o("div",{staticClass:"choice"},[!1===t.isModifyComment?o("div",{staticClass:"effectIcones"},[o("div",{staticClass:"modify",on:{click:function(e){return t.modifComActu(n.id)}}})]):t._e(),!1===t.isModifyComment?o("div",{staticClass:"effectIcones"},[o("div",{staticClass:"delete",on:{click:function(e){return t.deleteComment(n)}}})]):t._e()]):t._e(),!0===t.isModifyComment?o("p",{staticStyle:{"font-weight":"bold"}},[t._v(" Modifiez votre commentaire :")]):t._e(),o("form",{staticStyle:{display:"none",width:"80%",margin:"auto",height:"100%"},attrs:{id:"infoHiddenCom",enctype:"multipart/form-data"}},[o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newComment,expression:"newComment"}],staticStyle:{width:"100%",margin:"0 auto"},attrs:{rows:"6"},domProps:{value:t.newComment},on:{input:function(e){e.target.composing||(t.newComment=e.target.value)}}}),o("button",{attrs:{type:"button"},on:{click:function(e){return t.modifyComment(n.id)}}},[t._v("Envoyer")])])],2)]):t._e()])}))],2)})),0)])])])},A=[],E=o("b85c"),O=o("2909"),j=(o("99af"),o("5a30")),M=o.n(j),U={name:"Forum",data:function(){return{donneesText:{img:""},message:"",info:[],comment:"",newComment:"",repeat:!1,test:null,result:null,newResult:null,comResult:null,commentsShow:null,postIdShow:!1,modifPost:!1,modifCom:!1,newMessage:null,userId:null,status:null,idUser:null,userNameUser:"",arrayPost:[],arrayPostDetails:[],isModifyPost:!1,isModifyComment:!1}},methods:{addPost:function(){var t,e=new M.a,o=document.getElementById("picture").files[0];o&&""!=this.message?(e.append("picture",o),e.append("message",this.message)):o?e.append("picture",o):""!=this.message&&e.append("message",this.message),(t=console).log.apply(t,Object(O["a"])(e)),console.log(o);var n=JSON.parse(localStorage.getItem("token")),a="bearer "+n.token;console.log(a),i.a.post("http://localhost:3030/api/post",e,{headers:{"Content-Type":"multipart/form-data",Authorization:a}}).then((function(t){console.log(t),console.log(a)})).then((function(){window.location.replace("/Forum")})).catch((function(t){this.output=t}))},addComment:function(t){document.getElementById("info").style.display="block",document.getElementById("form").style.display="block";var e,o=Object(E["a"])(this.test);try{for(o.s();!(e=o.n()).done;){var n=e.value;if(t.id===n.id)return document.getElementById("info").style.position="fixed",document.getElementById("info").style.zIndex="2",document.getElementById("info").style.bottom="30%",document.getElementById("info").style.border="1px solid blueviolet",document.getElementById("info").style.backgroundColor="antiquewhite",document.getElementById("info").style.display="flex",document.getElementById("info").style.flexDirection="column-reverse",null===t.media&&t.message?document.getElementById("info").innerHTML+="\n                        <p>".concat(t.message,"</p>\n                        <p>").concat(t.date,"</p>\n                        "):t.message?document.getElementById("info").innerHTML+="\n                        <p>".concat(t.message,'</p>\n                        <img src="').concat(t.media,'" />\n                        <p>').concat(t.date,"</p>\n                        "):document.getElementById("info").innerHTML+='\n                            <img src="'.concat(t.media,'" />\n                            <p>').concat(t.date,"</p>\n                        "),this.result=t.id,this.result}}catch(a){o.e(a)}finally{o.f()}},publish:function(){var t;console.log(this.comment);var e=new M.a;e.append("postId",this.result),e.append("message",this.comment),(t=console).log.apply(t,Object(O["a"])(e));var o=JSON.parse(localStorage.getItem("token")),n="bearer "+o.token;console.log(n),i.a.post("http://localhost:3030/api/comment/",e,{headers:{"Content-Type":"multipart/form-data",Authorization:n}}).then((function(t){console.log(t),console.log(t.data),console.log(n)})).then((function(){window.location.replace("/Forum")})).catch((function(t){this.output=t}))},modifPostActu:function(t){console.log(t),console.log(this.test),this.isModifyPost=!0,this.isModifyComment=!0,document.getElementById("hidden").style.display="flex",document.getElementById("hidden").style.flexDirection="column",document.getElementById("hidden").style.alignItems="center";var e,o=Object(E["a"])(this.test);try{for(o.s();!(e=o.n()).done;){var n=e.value;if(t===n.id)return this.newResult=t,console.log(this.newResult),this.newResult}}catch(a){o.e(a)}finally{o.f()}},modifyPost:function(){var t;console.log(this.newResult);var e=new M.a;e.append("postId",this.newResult);var o=document.getElementById("newPicture").files[0];void 0!=o&&e.append("picture",o),null!=this.newMessage&&e.append("message",this.newMessage),(t=console).log.apply(t,Object(O["a"])(e));var n=JSON.parse(localStorage.getItem("token")),a="bearer "+n.token;console.log(a),i.a.put("http://localhost:3030/api/post",e,{headers:{"Content-Type":"multipart/form-data",Authorization:a}}).then((function(t){console.log(t),console.log("response"),console.log(a)})).then((function(){document.getElementById("hidden").style.display="none",window.location.replace("/Forum")})).catch((function(t){this.output=t}))},deletePost:function(t){console.log(t);var e=t,o=JSON.parse(localStorage.getItem("token")),n="bearer "+o.token;console.log(n),i.a.delete("http://localhost:3030/api/post/deletePost",{data:{idpost:e},headers:{Authorization:n}}).then((function(t){console.log(t),alert("votre commentaire a été supprimé"),console.log("le commentaire est supprimé")})).then((function(){window.location.replace("/Forum")})).catch((function(t){console.log(t)}))},modifComActu:function(t){console.log(t),this.isModifyComment=!0,this.isModifyPost=!0,document.getElementById("infoHiddenCom").style.display="flex";var e,o=Object(E["a"])(this.commentsShow);try{for(o.s();!(e=o.n()).done;){var n=e.value;if(t===n.id)return console.log(t),console.log(n.id),this.comResult=t,console.log(this.comResult),this.comResult}}catch(a){o.e(a)}finally{o.f()}},modifyComment:function(t){var e;console.log(t),console.log(this.comResult),console.log(this.newComment);var o=new M.a;o.append("message",this.newComment),o.append("id",this.comResult),(e=console).log.apply(e,Object(O["a"])(o));var n=JSON.parse(localStorage.getItem("token")),a="bearer "+n.token;console.log(a),i.a.put("http://localhost:3030/api/comment",o,{headers:{"Content-Type":"multipart/form-data",Authorization:a}}).then((function(t){console.log(t),console.log(a)})).then((function(){window.location.replace("/Forum")})).catch((function(t){this.output=t}))},deleteComment:function(t){var e=t;console.log(t);var o=JSON.parse(localStorage.getItem("token")),n="bearer "+o.token;console.log(n),i.a.delete("http://localhost:3030/api/comment/deleteComment",{data:{idcom:e},headers:{Authorization:n}}).then((function(t){console.log(t),console.log("le commentaire est supprimé")})).then((function(){window.location.replace("/Forum")})).catch((function(t){console.log(t)}))}},created:function(){var t=this,e=JSON.parse(localStorage.getItem("token")),o="bearer "+e.token;i.a.get("http://localhost:3030/api/user",{headers:{Authorization:o}}).then((function(e){return console.log(e.data),t.status=e.data.status,console.log(t.status),t.userId=e.data.id,console.log(t.userId),t.userName=e.data.userName,localStorage.setItem("userId",t.userId),t.userId})).catch((function(t){this.output=t})),i.a.get("http://localhost:3030/api/post").then((function(e){console.log(e),t.test=e.data,console.log(t.test)})).then((function(){i.a.get("http://localhost:3030/api/user/all").then((function(e){console.log(e.data);var o,n=Object(E["a"])(e.data);try{for(n.s();!(o=n.n()).done;){var a=o.value;t.arrayPost={id:a.id,userName:a.userName},t.arrayPostDetails.push(t.arrayPost)}}catch(s){n.e(s)}finally{n.f()}console.log(t.arrayPostDetails)})).catch((function(t){this.output=t}))})).catch((function(t){this.output=t})),i.a.get("http://localhost:3030/api/comment").then((function(e){t.commentsShow=e.data,t.postIdShow=!0})).catch((function(t){this.output=t}))}},B=U,z=(o("b474"),Object(u["a"])(B,x,A,!1,null,null,null)),L=z.exports,T={name:"ForumPeople",components:{Forum:L}},$=T,F=Object(u["a"])($,P,k,!1,null,null,null),J=F.exports,D=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"mobile"},[t._m(0),o("form",[o("div",{staticClass:"mail"},[o("label",{attrs:{for:"email"}},[t._v("E-mail")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"email",name:"email",id:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),o("div",{staticClass:"pass"},[o("label",{attrs:{for:"password"}},[t._v("Password")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",name:"password",id:"password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),o("input",{staticClass:"submit",attrs:{type:"submit",value:"se connecter"},on:{click:t.submit}})])])},H=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"banniere"}},[o("h1",[t._v("Connectez-vous")]),o("div",{staticClass:"triangle"})])}],R={data:function(){return{userId:null,email:"",password:""}},methods:{submit:function(t){var e;t.preventDefault();var o=new URLSearchParams,n=/^(?=.*[A-Za-z])|[^0-9]*|[[A-Za-z\d]{8,}$/;n.test(this.password)&&""!=this.password?o.append("password",this.password):(console.log("error password"),document.getElementById("password").style.border="1.5px solid red");var a=/^[a-zA-Z0-9.!#$%&'*+=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)+/;a.test(this.email)&&""!=this.email?o.append("email",this.email):(console.log("error email"),document.getElementById("email").style.border="1.5px solid red"),(e=console).log.apply(e,Object(O["a"])(o)),a.test(this.email)&&""!=this.email.value&&n.test(this.password)&&""!=this.password.value&&i.a.post("http://localhost:3030/api/user/login",o).then((function(t){console.log(t.data);var e=JSON.stringify(t.data);console.log(e),localStorage.setItem("token",e),console.log(t.status),console.log(t.statusText),console.log(t.headers),console.log(t.config)})).then((function(){window.location.replace("/Forum")})).catch((function(t){return console.log(t)}))}}},Z=R,q=(o("0b94"),Object(u["a"])(Z,D,H,!1,null,null,null)),G=q.exports,Q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"allSections"},[n("div",{staticClass:"user"},[n("div",{staticClass:"picture"},[null!=t.picture?n("img",{attrs:{src:t.picture}}):t._e()]),n("div",{attrs:{id:"details"}},[n("form",{staticStyle:{display:"flex","align-items":"center","flex-direction":"column"},attrs:{id:"form",enctype:"multipart/form-data"}},[n("label",{staticStyle:{"margin-bottom":"40px"}},[t._v("Ajouter une photo de profil")]),n("input",{attrs:{id:"picture",accept:"image/*",type:"file"}}),n("button",{on:{click:t.newPicture}},[t._v("Ajouter photo")])])]),n("div",{attrs:{id:"detailsUser"}},[n("p",[t._v(t._s(this.name))]),n("p",[t._v(t._s(this.lastName))]),n("p",[t._v(t._s(this.userName))]),n("p",[t._v(t._s(this.mail))])])]),n("div",{staticClass:"userActivity"},[n("div",{staticClass:"activity"},[n("div",{staticClass:"circle"},[n("span",[t._v(t._s(t.nbCom))])]),n("p",[t._v("Commentaires")])]),n("div",{staticClass:"activity"},[n("div",{staticClass:"circle"},[n("span",[t._v(t._s(t.nbPost))])]),n("p",[t._v("Posts")])]),n("div",{staticClass:"myProfil"},[n("div",{staticStyle:{display:"flex","justify-content":"space-evenly"}},[n("h1",[t._v("Qui suis-je?")]),n("img",{staticStyle:{width:"30px"},attrs:{src:o("3f75")},on:{click:t.editeProfil}})]),1==t.edited?n("form",{attrs:{id:"form",enctype:"multipart/form-data"}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.descript,expression:"descript"}],attrs:{type:"text",placeholder:"Ajouter une description",rows:"10",cols:"73"},domProps:{value:t.descript},on:{input:function(e){e.target.composing||(t.descript=e.target.value)}}}),n("button",{on:{click:t.newDescript}},[t._v("Changez votre description")])]):t._e(),n("p",[t._v(" "+t._s(this.description)+" ")])])])])},W=[],K=(o("a4d3"),o("e01a"),{name:"MyAccount",data:function(){return{name:null,lastName:null,userName:null,mail:null,picture:null,edited:!1,description:null,descript:null,id:null,nbPost:null,commentsShow:null,nbCom:null}},created:function(){var t=this,e=JSON.parse(localStorage.getItem("token")),o="bearer "+e.token;i.a.get("http://localhost:3030/api/user",{headers:{Authorization:o}}).then((function(e){t.name=e.data.name,t.lastName=e.data.lastName,t.userName=e.data.userName,t.mail=e.data.mail,t.id=e.data.id})).then((function(){i.a.get("http://localhost:3030/api/post").then((function(e){console.log(e),t.test=e.data,console.log(t.test);for(var o=0;o<t.test.length;o++)console.log(t.test[o].userId),t.test[o].userId===t.id?(console.log(t.test[o]),t.nbPost+=1):t.nbPost=0;console.log(t.nbPost)})),i.a.get("http://localhost:3030/api/comment").then((function(e){t.commentsShow=e.data;for(var o=0;o<t.commentsShow.length;o++)console.log(t.commentsShow[o].userId),t.commentsShow[o].userId===t.id?(console.log(t.commentsShow[o]),t.nbCom+=1):t.nbCom=0;console.log(t.nbCom)})).catch((function(t){this.output=t}))})).catch((function(t){this.output=t})),i.a.get("http://localhost:3030/api/account",{headers:{Authorization:o}}).then((function(e){console.log(e.data),t.picture=e.data.media,console.log(t.picture),t.description=e.data.textDescription})).catch((function(t){this.output=t}))},methods:{newPicture:function(){var t,e=new M.a,o=document.getElementById("picture").files[0];e.set("picture",o),(t=console).log.apply(t,Object(O["a"])(e)),console.log(o);var n=JSON.parse(localStorage.getItem("token")),a="bearer "+n.token;console.log(a),i.a.post("http://localhost:3030/api/account",e,{headers:{"Content-Type":"multipart/form-data",Authorization:a}}).then((function(t){console.log(t),console.log(a)})).catch((function(t){this.output=t}))},newPict:function(){var t,e=new M.a,o=document.getElementById("picture").files[0];e.set("picture",o),(t=console).log.apply(t,Object(O["a"])(e)),console.log(o);var n=JSON.parse(localStorage.getItem("token")),a="bearer "+n.token;console.log(a),i.a.put("http://localhost:3030/api/account/picture",e,{headers:{"Content-Type":"multipart/form-data",Authorization:a}}).then((function(t){console.log(t),console.log(a)})).catch((function(t){this.output=t}))},editeProfil:function(){this.edited=!0},newDescript:function(){var t,e=new M.a;null!=this.descript&&e.append("textDescription",this.descript),(t=console).log.apply(t,Object(O["a"])(e)),console.log(this.descript);var o=JSON.parse(localStorage.getItem("token")),n="bearer "+o.token;console.log(n),i.a.put("http://localhost:3030/api/account",e,{headers:{"Content-Type":"multipart/form-data",Authorization:n}}).then((function(t){console.log(t),console.log(n),window.location.replace("/Account")})).catch((function(t){this.output=t}))}}}),V=K,X=(o("66eb"),Object(u["a"])(V,Q,W,!1,null,null,null)),Y=X.exports,tt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"allSectionsUsers"},[o("div",{staticClass:"user"},[t.accountId==t.actualUserId?o("div",{staticClass:"picture"},[o("img",{attrs:{src:t.picture}})]):t._e(),t.accountId!=t.actualUserId?o("div",{staticClass:"picture"}):t._e(),o("div",{attrs:{id:"detailsProfil"}},[o("p",[t._v(t._s(this.name))]),o("p",[t._v(t._s(this.lastName))]),o("p",[t._v(t._s(this.userName))]),o("p",[t._v(t._s(this.mail))])])]),o("div",{staticClass:"userActivity"},[o("div",{staticClass:"activity"},[o("div",{staticClass:"circle"},[o("span",[t._v(t._s(t.nbCom))])]),o("p",[t._v("Commentaires")])]),o("div",{staticClass:"activity"},[o("div",{staticClass:"circle"},[o("span",[t._v(t._s(t.nbPost))])]),o("p",[t._v("Posts")])]),o("div",{staticClass:"myProfil"},[o("h1",[t._v("Qui suis-je?")]),o("p",[t._v(" "+t._s(t.descript)+" ")])])])])},et=[],ot={name:"MyAccountAdmin",data:function(){return{test:null,commentsShow:null,postShow:null,lastName:null,name:null,userName:null,mail:null,picture:null,accountId:null,actualUserId:null,nbPost:null,nbCom:null,descript:null}},created:function(){var t=this;i.a.get("http://localhost:3030/api/account/".concat(this.$route.params.id)).then((function(e){console.log(e.data),t.lastName=e.data.lastName,t.name=e.data.name,t.userName=e.data.userName,t.mail=e.data.mail,t.accountId=t.$route.params.id,console.log(t.accountId)})).catch((function(t){this.output=t})),i.a.get("http://localhost:3030/api/account/all").then((function(e){console.log(e.data);var o,n=Object(E["a"])(e.data);try{for(n.s();!(o=n.n()).done;){var a=o.value;console.log(t.accountId),console.log(a.userId),console.log(a.media),t.accountId==a.userId&&(console.log(a.media),t.descript=a.textDescription,t.actualUserId=a.userId,t.picture=a.media,console.log(a.userId),console.log(t.picture))}}catch(s){n.e(s)}finally{n.f()}})).then((function(){i.a.get("http://localhost:3030/api/post").then((function(e){console.log(e),t.test=e.data,console.log(t.test);for(var o=0;o<t.test.length;o++)console.log(t.test[o].userId),console.log(t.accountId),t.test[o].userId===t.actualUserId?(t.nbPost+=1,console.log(t.nbPost)):t.nbPost=0;console.log(t.nbPost)})),i.a.get("http://localhost:3030/api/comment").then((function(e){t.commentsShow=e.data;for(var o=0;o<t.commentsShow.length;o++)console.log(t.commentsShow[o].userId),t.commentsShow[o].userId===t.actualUserId?(console.log(t.commentsShow[o]),t.nbCom+=1):t.nbCom=0;console.log(t.nbCom)})).catch((function(t){this.output=t}))})).catch((function(t){this.output=t}))}},nt=ot,at=(o("25b8"),Object(u["a"])(nt,tt,et,!1,null,null,null)),st=at.exports,lt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},it=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"forum"},[o("div",{staticClass:"allMyUtilisateurs"},[o("h2",[t._v("Les utilisateurs Groupomania")]),o("div",{staticClass:"Utilisateurs",staticStyle:{"flex-direction":"column"}},[o("div",{staticClass:"utilisateur"},[o("div",{attrs:{id:"user"}}),o("div",{attrs:{id:"test"}})])])])])}],ct={name:"MyUtilisateurs",data:function(){return{user:null,picture:null,id:null,userId:null,status:null,pictureAccount:null,idAccount:null,nameUser:null,lastNameUser:null,accountUserId:null,account:null}},created:function(){var t=this;i.a.get("http://localhost:3030/api/user/all").then((function(e){console.log(e),t.user=e.data,console.log(t.user),t.userId=localStorage.getItem("userId")})).catch((function(t){console.log(t)}));var e=JSON.parse(localStorage.getItem("token")),o="bearer "+e.token;i.a.get("http://localhost:3030/api/account/",{headers:{Authorization:o}}).then((function(e){console.log(e),console.log(e.data),t.picture=e.data.media,t.id=e.data.userId,console.log(t.picture),console.log(t.userId),console.log(t.id)})).catch((function(t){this.output=t})),i.a.get("http://localhost:3030/api/user",{headers:{Authorization:o}}).then((function(e){t.status=e.data.status,console.log(t.status)})).catch((function(t){this.output=t})),i.a.get("http://localhost:3030/api/account/all").then((function(e){console.log(e),t.account=e.data,console.log(t.account),console.log(e.data);var o,n=Object(E["a"])(t.user);try{var a=function(){var e=o.value;console.log(e),t.nameUser=e.name,t.lastNameUser=e.lastName,t.accountUserId=e.id,console.log(t.pictureAccount),console.log(e.lastName),console.log(e.id),null===e.accountId&&(document.getElementById("user").innerHTML+='\n                        <div>\n                            <div style="height: inherit;width: 200px;background-color: grey;display: flex;justify-content: center;">\n                                <p style="color: white;font-size: 65px;">?</p>\n                            </div>            \n                            <p>'.concat(t.nameUser,"</p>\n                            <p>").concat(t.lastNameUser,"</p>\n                        </div>\n                    ")),s=document.createElement("BUTTON"),s.className="detailAccount",s.innerHTML+="".concat(t.lastNameUser),document.getElementById("test").appendChild(s),s.addEventListener("click",(function(){window.location.pathname="/accountAdmin/"+e.id,console.log("test");var t=e.id;i.a.get("http://localhost:3030/api/account/".concat(t)).then((function(t){console.log(t),console.log(t.data)})).catch((function(t){console.log(t)}))})),console.log(t.status),1===t.status&&(l=document.createElement("div"),document.getElementById("test").appendChild(l),l.className="supAccount",l.addEventListener("click",(function(){var t=e.id,o=JSON.parse(localStorage.getItem("token")),n="bearer "+o.token;console.log(n),i.a.delete("http://localhost:3030/api/user/deleteAnyAccount",{data:{iduser:t},headers:{Authorization:n}}).then((function(t){console.log(t),alert("votre compte a été supprimé"),console.log("l'utilisateur est désinscrit")})).then((function(){window.location.replace("/Utilisateurs")})).catch((function(t){console.log(t)}))})))};for(n.s();!(o=n.n()).done;){var s,l;a()}}catch(h){n.e(h)}finally{n.f()}var c,r=Object(E["a"])(e.data);try{for(r.s();!(c=r.n()).done;){var u=c.value;t.pictureAccount=u.media,t.idAccount=u.id,console.log(u);var d,m=Object(E["a"])(t.user);try{for(m.s();!(d=m.n()).done;){var p=d.value;console.log(p),t.nameUser=p.name,t.lastNameUser=p.lastName,t.accountUserId=p.id,console.log(t.pictureAccount),console.log(p.lastName),console.log(p.id),u.id===p.accountId&&(document.getElementById("user").innerHTML+='\n                            <div>\n                                <img class="picture" src="'.concat(t.pictureAccount,'" />\n                                <p>').concat(t.nameUser,"</p>\n                                <p>").concat(t.lastNameUser,"</p>\n                            </div>\n                        "))}}catch(h){m.e(h)}finally{m.f()}}}catch(h){r.e(h)}finally{r.f()}})).catch((function(t){console.log(t)}))}},rt=ct,ut=(o("b430"),Object(u["a"])(rt,lt,it,!1,null,null,null)),dt=ut.exports;n["a"].use(p["a"]);var mt=new p["a"]({mode:"history",base:"/",routes:[{path:"/",name:"Home",component:S},{path:"/Forum",name:"Forum",component:J},{path:"/Login",name:"Login",component:G},{path:"/Account",name:"MyAccount",component:Y},{path:"/AccountAdmin/:id",name:"AccountAdmin",component:st,props:function(t){return{id:t.query.id}}},{path:"/Utilisateurs",name:"Utilisateurs",component:dt}]}),pt=o("2f62");n["a"].use(pt["a"]);var ht=new pt["a"].Store({state:{},mutations:{},actions:{},modules:{}});n["a"].config.productionTip=!0,n["a"].config.silent=!0,n["a"].config.debug=!1,n["a"].component("home",S),new n["a"]({router:mt,store:ht,render:function(t){return t(m)}}).$mount("#app")},"5a1e":function(t,e,o){},"5c0b":function(t,e,o){"use strict";o("9c0c")},"66eb":function(t,e,o){"use strict";o("3f13")},"6d8b":function(t,e,o){"use strict";o("1a4b")},"843d":function(t,e,o){t.exports=o.p+"img/user-alt-solid.42cfebeb.png"},"8a45":function(t,e,o){t.exports=o.p+"img/comments-solid.122fc231.png"},"969a":function(t,e,o){},"9c0c":function(t,e,o){},b430:function(t,e,o){"use strict";o("5a1e")},b474:function(t,e,o){"use strict";o("969a")},c379:function(t,e,o){}});
//# sourceMappingURL=app.64718e0a.js.map